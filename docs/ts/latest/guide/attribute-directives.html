<!DOCTYPE html><html lang="en" ng-app="angularIOApp" itemscope itemtype="http://schema.org/Framework"><head><title>Attribute Directives - ts</title><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="description" content="Angular is a development platform for building mobile and desktop web applications"/><meta name="keywords" content="Angular, AngularJS, AngularDart, Javscript, Dart, Framework, JavaScript MVC, Google"/><meta name="robots" content="all"/><meta name="referrer" content="origin"/><meta name="viewport" id="viewport" content="width=device-width, initial-scale=1"/><meta property="og:title" content="Angular 2"/><meta property="og:image" content="/resources/images/logos/standard/shield-large.png"/><meta property="og:image:type" content="image/png"/><meta property="og:image:width" content="184"/><meta property="og:image:height" content="200"/><meta property="og:description" content="Angular is a development platform for building mobile and desktop web applications"/><meta itemprop="name" content="Angular 2"/><meta itemprop="description" content="Angular is a development platform for building mobile and desktop web applications"/><meta itemprop="image" content="https://angular.io/resources/images/logos/standard/shield-large.png"/><link rel="icon" type="image/x-icon" href="/resources/images/icons/favicon.ico"/><link rel="stylesheet" href="/resources/ajax.googleapis.com/ajax/libs/angular_material/0.8.3/angular-material.min.css"/><link href="/resources/fonts.googleapis.com/css?family=Roboto:400,300,500,400italic,700" rel="stylesheet" type="text/css"/><link href="/resources/fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/><link rel="stylesheet" href="/resources/css/vendor/icomoon/style.css"/><link rel="stylesheet" href="/resources/css/vendor/animate.css"/><link rel="stylesheet" href="/resources/css/main.css"/><!-- MOBILE ICONS -->
<link rel="apple-touch-icon" sizes="57x57" href="/resources/images/favicons/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/resources/images/favicons/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/resources/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/resources/images/favicons/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/resources/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/resources/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/resources/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/resources/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/resources/images/favicons/apple-touch-icon-180x180.png">
<link rel="icon" type="image/png" href="/resources/images/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/resources/images/favicons/favicon-194x194.png" sizes="194x194">
<link rel="icon" type="image/png" href="/resources/images/favicons/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/resources/images/favicons/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="/resources/images/favicons/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/resources/images/favicons/manifest.json"></head><body ng-controller="AppCtrl as appCtrl" class="l-offset-nav l-offset-side-nav"><md-toolbar scroll-y-offset-element="scroll-y-offset-element" class="main-nav background-regal l-pinned-top l-layer-5"><nav><h1><a href="/" md-button>Angular <sup>by Google</sup></a></h1><button aria-label="View Menu" ng-click="appCtrl.toggleMainMenu($event)" md-button="md-button" class="main-nav-button main-nav-mobile-trigger l-right">Site Menu <span class="icon icon-arrow-drop-down"></span></button><ul ng-class="appCtrl.showMainNav ? 'is-visible' : ''"><li class="l-left"><a class="main-nav-button" href="/features.html" md-button>Features</a></li><li class="l-left"><a class="main-nav-button" href="/docs/ts/latest/" md-button>Docs</a></li><li class="l-left"><a class="main-nav-button" href="/about/" md-button>About</a></li><li class="l-left"><a class="main-nav-button" href="/contribute.html" md-button>Contribute</a></li><li class="l-right feedback-button"><md-button ng-click="appCtrl.openFeedback()" class="md-icon-button top-nav-icon" aria-label="Submit feedback on this page"><span class="material-icons">feedback</span></md-button></li></ul></nav></md-toolbar><nav class="side-nav l-pinned-left l-layer-4 l-offset-nav"><!-- SEARCH BAR--><header class="side-nav-search st-input-wrapper"><form class="st-input-inner"><label for="search-io" class="is-hidden">Search Docs</label><input type="search" id="search-io" placeholder="SEARCH DOCS..."/></form><button aria-label="View Docs Menu" ng-click="appCtrl.toggleDocsMenu($event)" md-button="md-button" class="mobile-trigger button">Docs <span class="icon icon-arrow-drop-down"></span></button></header><!-- PRIMARY NAVIGATION--><ul ng-class="appCtrl.showDocsNav ? 'is-visible' : ''" class="side-nav-primary"><li><a href="/docs/ts/latest/index.html" md-button><span class="side-nav-icon icon-home"></span> Docs Home</a></li><!-- SECONDARY NAVIGATION--><li><a href="/docs/ts/latest/quickstart.html" md-button><span class="side-nav-icon icon-query-builder"></span> 5 Min Quickstart</a></li><!-- SECONDARY NAVIGATION--><li><a href="/docs/ts/latest/tutorial/" md-button><span class="side-nav-icon icon-list"></span> Tutorial</a></li><!-- SECONDARY NAVIGATION--><li class="is-selected"><a href="/docs/ts/latest/guide/" md-button><span class="side-nav-icon icon-list"></span> Developer Guides</a></li><!-- SECONDARY NAVIGATION--><!--SECONDARY NAVIGATION--><ul class="side-nav-secondary is-ordered"><!-- DEFAULT LIST VALUES--><!-- TERTIARY NAVIGATION--><!-- DEFAULT LIST VALUES--><!-- TERTIARY NAVIGATION--><!-- DEFAULT LIST VALUES--><!-- API LIST VALUES--><!-- ORDERED LIST VALUES--><li><a href="/docs/ts/latest/guide/cheatsheet.html" md-button>1. Angular Cheat Sheet</a></li><!-- TERTIARY NAVIGATION--><!-- DEFAULT LIST VALUES--><!-- API LIST VALUES--><!-- ORDERED LIST VALUES--><li><a href="/docs/ts/latest/guide/architecture.html" md-button>2. Architecture Overview</a></li><!-- TERTIARY NAVIGATION--><!-- DEFAULT LIST VALUES--><!-- API LIST VALUES--><!-- ORDERED LIST VALUES--><li><a href="/docs/ts/latest/guide/displaying-data.html" md-button>3. Displaying Data</a></li><!-- TERTIARY NAVIGATION--><!-- DEFAULT LIST VALUES--><!-- API LIST VALUES--><!-- ORDERED LIST VALUES--><li><a href="/docs/ts/latest/guide/user-input.html" md-button>4. User Input</a></li><!-- TERTIARY NAVIGATION--><!-- DEFAULT LIST VALUES--><!-- API LIST VALUES--><!-- ORDERED LIST VALUES--><li><a href="/docs/ts/latest/guide/forms.html" md-button>5. Forms</a></li><!-- TERTIARY NAVIGATION--><!-- DEFAULT LIST VALUES--><!-- API LIST VALUES--><!-- ORDERED LIST VALUES--><li><a href="/docs/ts/latest/guide/dependency-injection.html" md-button>6. Dependency Injection</a></li><!-- TERTIARY NAVIGATION--><!-- DEFAULT LIST VALUES--><!-- API LIST VALUES--><!-- ORDERED LIST VALUES--><li><a href="/docs/ts/latest/guide/template-syntax.html" md-button>7. Template Syntax</a></li><!-- TERTIARY NAVIGATION--><!-- DEFAULT LIST VALUES--><!-- API LIST VALUES--><!-- ORDERED LIST VALUES--><li><a href="/docs/ts/latest/guide/pipes.html" md-button>8. Pipes</a></li><!-- TERTIARY NAVIGATION--><!-- DEFAULT LIST VALUES--><!-- API LIST VALUES--><!-- ORDERED LIST VALUES--><li><a href="/docs/ts/latest/guide/router.html" md-button>9. Routing &amp; Navigation</a></li><!-- TERTIARY NAVIGATION--><!-- DEFAULT LIST VALUES--><!-- API LIST VALUES--><!-- ORDERED LIST VALUES--><li class="is-selected"><a href="/docs/ts/latest/guide/attribute-directives.html" md-button>10. Attribute Directives</a></li><!-- TERTIARY NAVIGATION--><!-- TERTIARY NAVIGATION--><!-- DEFAULT LIST VALUES--><!-- API LIST VALUES--><!-- ORDERED LIST VALUES--><li><a href="/docs/ts/latest/guide/structural-directives.html" md-button>11. Structural Directives</a></li><!-- TERTIARY NAVIGATION--><!-- DEFAULT LIST VALUES--><!-- API LIST VALUES--><!-- ORDERED LIST VALUES--><li><a href="/docs/ts/latest/guide/hierarchical-dependency-injection.html" md-button>12. Hierarchical Injectors</a></li><!-- TERTIARY NAVIGATION--><!-- DEFAULT LIST VALUES--><!-- API LIST VALUES--><!-- ORDERED LIST VALUES--><li><a href="/docs/ts/latest/guide/upgrade.html" md-button>13. Upgrading from 1.x</a></li><!-- TERTIARY NAVIGATION--><!-- DEFAULT LIST VALUES--><!-- API LIST VALUES--><!-- ORDERED LIST VALUES--><li><a href="/docs/ts/latest/guide/glossary.html" md-button>14. Glossary</a></li><!-- TERTIARY NAVIGATION--></ul><li><a href="/docs/ts/latest/testing/" md-button><span class="side-nav-icon icon-list"></span> Testing Guides</a></li><!-- SECONDARY NAVIGATION--><li><a href="/docs/ts/latest/api/" md-button><span class="side-nav-icon icon-book"></span> API Preview</a></li><!-- SECONDARY NAVIGATION--><li><a href="/docs/ts/latest/resources.html" md-button><span class="side-nav-icon icon-play-circle-fill"></span> Angular Resources</a></li><!-- SECONDARY NAVIGATION--><li><a href="/docs/ts/latest/help.html" md-button><span class="side-nav-icon icon-chat"></span> Help &amp; Support</a></li><!-- SECONDARY NAVIGATION--></ul></nav><header class="hero background-sky"><h1 class="hero-title text-display-1 ">Attribute Directives</h1><!-- Replace _ undscores with . dots --><!-- Replace _ undscores with . dots --><!-- VERSION TREE CREATOR MIXIN --><!-- BUTTON TITLE GENERATION  --><!-- DROPDOWN BUTTON --><nav class="hero-subtitle text-subhead dropdown"><button aria-label="Select a version of Angular" md-button="md-button" ng-click="appCtrl.toggleVersionMenu($event)" class="dropdown-button">Angular 2 for TypeScript  <span class="icon icon-arrow-drop-down"></span></button><div ng-click="appCtrl.toggleVersionMenu($event)" ng-show="appCtrl.showMenu" class="overlay ng-hide"></div><!-- DROPDOWN MENU --><div ng-class="appCtrl.showMenu ? 'is-visible' : ''" class="dropdown-menu"><ul><li><a href="/docs/ts/latest/guide/" md-button>Angular 2 for TypeScript </a></li></ul><ul><li><a href="/docs/js/latest/guide/" md-button>Angular 2 for JavaScript </a></li></ul><ul><li><a href="/docs/dart/latest/guide/" md-button>Angular 2 for Dart </a></li></ul></div></nav></header><div class="banner"><p class="text-body">Attribute directives attach behavior to elements.</p></div><article class="l-content-small grid-fluid docs-content"><p>An <strong>Attribute</strong> directive changes the appearance or behavior of a DOM element.</p>
<p>In this chapter we will</p>
<ul>
<li>write an attribute directive to change the background color</li>
<li>apply the attribute directive to an element in a template</li>
<li>respond to user-initiated events</li>
<li>pass values into the directive using data binding</li>
</ul>
<p><a href="/resources/live-examples/attribute-directives/ts/plnkr.html">Live Example</a></p>
<h2 id="directives-overview">Directives overview</h2>
<p>There are three kinds of directives in Angular:</p>
<ol>
<li>Components</li>
<li>Structural directives  </li>
<li>Attribute directives</li>
</ol>
<p>The <em>Component</em> is really a directive with a template. 
It&#39;s the most common of the three directives and we write lots of them as we build our application.</p>
<p>The <a href="structural-directives.html"><em>Structural</em> directive</a> changes the DOM layout by adding and removing DOM elements. 
<a href="template-syntax.html#ng-for">NgFor</a> and <a href="template-syntax.html#ng-if">NgIf</a> are two familiar examples.</p>
<p>The <em>Attribute</em> directive changes the appearance or behavior of an element.
The built-in <a href="template-syntax.html#ng-style">NgStyle</a> directive, for example,
can change several element styles at the same time.</p>
<p>We are going to write our own attribute directive to set an element&#39;s background color
when the user hovers over that element.</p>
<div class="l-sub-section"><p>We don&#39;t need <em>any</em> directive to simply set the background color.
We can set it with the special <a href="template-syntax.html#style-binding">Style Binding</a> like this:</p>
<code-example>&lt;p [style.background]="'lime'">I am green with envy!&lt;/p></code-example><br><p>That wouldn&#39;t be nearly as much fun as creating our own directive.</p>
<p>Besides, we&#39;re not just <em>setting</em> the color; we&#39;ll be <em>changing</em> the color
in response to a user action, a mouse hover.</p>
</div><div class="l-main-section"></div><h2 id="build-a-simple-attribute-directive">Build a simple attribute directive</h2>
<p>An attribute directive minimally requires building a controller class annotated with a 
<code>Directive</code> decorator. The <code>Directive</code> decorator specifies the selector identifying
the attribute associated with the directive. 
The controller class implements the desired directive behavior.</p>
<p>Let&#39;s build a small illustrative example together.</p>
<h3 id="setup">Setup</h3>
<p>Create a new project folder (<code>attribute-directives</code>) and follow the steps in the <a href="../quickstart.html">QuickStart</a>.</p>
<p>As in the <a href="/docs/ts/latest/tutorial/">tutorial</a>, we&#39;ll rename <code>app.ts</code> to <code>app.component.ts</code>
and relocate the call to <code>bootstrap</code> to a separate <code>boot.ts</code> file.</p>
<div class="example-title">app/boot.ts</div><code-example language="ts" format="linenums">import {bootstrap}    from &#39;angular2/platform/browser&#39;
import {AppComponent} from &#39;./app.component&#39;;

bootstrap(AppComponent);
</code-example><p>A clean <code>app.component.ts</code> without bootstrapping is much easer to test.</p>
<p>Finally, we remember to update <code>index.html</code> to load <code>boot.ts</code></p>
<code-example>System.import('app/boot');</code-example><h3 id="write-the-directive">Write the directive</h3>
<p>Add a new file to the <code>app</code> folder called <code>highlight.directive.ts</code> and add the following code:</p>
<div class="example-title">app/highlight.directive.ts</div><code-example language="ts" format="linenums">import {Directive, ElementRef, Renderer, Input} from &#39;angular2/core&#39;;

@Directive({
    selector: &#39;[myHighlight]&#39;
})

export class Highlight {
    constructor(el: ElementRef, renderer: Renderer) {
        //el.nativeElement.style.backgroundColor = &#39;yellow&#39;;
       renderer.setElementStyle(el, &#39;backgroundColor&#39;, &#39;yellow&#39;);
    }
}
</code-example><p>We begin by importing some symbols from the Angular library.
We need the <code>Directive</code> symbol for the <code>@Directive</code> decorator.
We need symbols for the <em>Element Reference</em> and the <em>Renderer</em> service that
we will <a href="dependency-injection.html">inject</a> into the directive&#39;s constructor.
We don&#39;t need <code>Input</code> now but we will need it later in the chapter.</p>
<p>Then we define the directive metadata in a configuration object passed
as an argument to the <code>@Directive</code> decorator function. 
A <code>@Directive</code> decorator for an attribute directive requires a css selector to identify
the HTML in the template that is associated with our directive.
The <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Attribute_selectors">css selector for an attribute</a>
is the attribute name in square brackets.</p>
<p>Our directive&#39;s selector is <code>[myHighlight]</code>. 
Angular will locate all elements in the template that have an attribute named <code>myHighlight</code>. </p>
<div class="l-sub-section"><h3 id="why-not-call-it-highlight-">Why not call it &quot;highlight&quot;?</h3>
<p><em>highlight</em> is a nicer name than <em>myHighlight</em> and, technically, it would work if we called it that.
However, the good folks at Angular strongly prefer hyphenated directive selector names. 
The HTML standards body will never name one of its attributes with a hyphen and there is
less risk of colliding with a third-party directive name when we give ours a prefix.
The <code>ng</code> prefix belongs to Angular. 
We need a prefix of our own, preferably short, and <code>my</code> will do for now.</p>
</div><p>After the <code>@Component</code> metadata comes the directive&#39;s controller class which we are exporting
to make it accessible to other components. 
The directive&#39;s controller class contains the logic for our directive.</p>
<p>Angular creates a new instance of the directive&#39;s controller class for
each matching element, injecting  an <em>Element Reference</em> and 
the <em>Renderer</em> service as arguments to our constructor. 
We&#39;ll need them to set the element&#39;s background color.</p>
<p>Our code shows two ways to do that.</p>
<p>We could access the <code>nativeElement</code> property of the element reference 
and set the element&#39;s background using the browser DOM API. We don&#39;t need
the <code>Renderer</code> for this technique. But we commented it out.</p>
<p>We chose the second way, the preferred way, that relies on the <code>Renderer</code> service
to set the element properties.</p>
<div class="l-sub-section"><h3 id="why-prefer-the-renderer-">Why prefer the Renderer?</h3>
<p>Manipulating the DOM directly is a practice we should <em>avoid</em> because it chains us
to the browser DOM API.</p>
<p>The  <code>Renderer</code> insulates our code from the browser&#39;s API. 
That gives us options.
The rendering phase could be offloaded to a Web Worker for faster performance.
Our directive might work when we ran the application outside the browser,
perhaps on the server in a pre-render phase. 
Server-side rendering can make our application load faster and
is often friendlier to Search Engine Optimizations (SEO).</p>
</div><div class="l-main-section"></div><h2 id="apply-the-attribute-directive">Apply the attribute directive</h2>
<p>The <code>AppComponent</code> will be the test harness for our <code>highlight</code> directive.
Let&#39;s give it a new template that 
applies the directive as an attribute to a <code>span</code> element.
In Angular terms, the <code>&lt;span&gt;</code> element will be the attribute <strong>host</strong>.</p>
<p>We&#39;ll put the template in its own <code>app.component.html</code> file that looks like this:</p>
<div class="example-title">app/app.component.html</div><code-example language="html" format="linenums">&lt;h1&gt;My First Attribute Directive&lt;/h1&gt;
&lt;span myHighlight&gt;Highlight me!&lt;/span&gt;
</code-example><p>A separate template file is clearly overkill for a 2-line template. 
Hang in there; we&#39;re going to expand it later.
Meanwhile, we&#39;ll revise the <code>AppComponent</code> to reference this template.</p>
<div class="example-title">app/app.component.ts</div><code-example language="ts" format="linenums">import {Component} from &#39;angular2/core&#39;;
import {Highlight} from &#39;./highlight.directive&#39;

@Component({
  selector: &#39;my-app&#39;,
  templateUrl: &#39;app/app.component.html&#39;,
  directives: [Highlight]
})

export class AppComponent { }
</code-example><p>We&#39;ve added an <code>import</code> statement to fetch the &#39;Highlight&#39; directive and 
added that class to a <code>directives</code> array in the component metadata so that Angular 
will recognize our directive when it encounters <code>myHighlight</code> in the template. 
Angular would simply ignore the <code>myHighlight</code> attribute without it.</p>
<p>We run the app and see that our directive highlights the span text.</p>
<figure class="image-display"><img src="/resources/images/devguide/attribute-directives/first-highlight.png" alt="First Highlight"></figure><p>Let&#39;s recap what happened.</p>
<p>Angular found the <code>myHighlight</code> attribute on the <code>&lt;span&gt;</code> element. It created
an instance of the <code>Highlight</code> directive class, 
injecting both a reference to the element and the <code>Renderer</code> service into the constructor.
The constructor told the <code>Renderer</code> to set the <code>&lt;span&gt;</code> element&#39;s background style to yellow.</p>
<div class="l-main-section"></div><h2 id="respond-to-user-action">Respond to user action</h2>
<p>We are not satisfied to simply set an element color.
Our directive should set the color in response to a user action.
Specifically, we want to set the color when the user mouses over the element.</p>
<p>We&#39;ll need to</p>
<ol>
<li>detect when the user mouses into and out of the element</li>
<li>respond to those actions by setting and clearing the highlight color.</li>
</ol>
<p>Start with event detection. 
We add a <code>host</code> property to the directive metadata and give it a configuration object
that specifies two mouse events and the directive methods to call when they are raised.</p>
<code-example language="ts" format="linenums">host: {
  &#39;(mouseenter)&#39;: &#39;onMouseEnter()&#39;,
  &#39;(mouseleave)&#39;: &#39;onMouseLeave()&#39;
}
</code-example><div class="l-sub-section"><p>The <code>host</code> property refers to the DOM element that hosts our attribute directive, the <code>&lt;span&gt;</code> in our case.</p>
<p>We could have attached an event listener to the native element (<code>el.nativeElement</code>) with 
plain old JavaScript. 
There are at least three problems with that approach:</p>
<ol>
<li>We have to write the listeners correctly.</li>
<li>We must <em>detach</em> our listener when the directive is destroyed to avoid memory leaks.</li>
<li>We&#39;d be talking to DOM API directly which, we learned, is something to avoid.</li>
</ol>
<p>Let&#39;s roll with the <code>host</code> property. </p>
</div><p>Now we implement those two mouse event handlers:</p>
<code-example language="ts" format="linenums">onMouseEnter() { this._highlight(&quot;yellow&quot;); }
onMouseLeave() { this._highlight(null); }

private _highlight(color: string) {
  this.renderer.setElementStyle(this.el, &#39;backgroundColor&#39;, color);
}
</code-example><p>Notice that they delegate to a helper method that calls the <code>Renderer</code> service
as we used to do in the constructor.</p>
<p>We no longer need the constructor body but 
we still want the injected <code>ElementRef</code> and <code>Renderer</code> service.
We revise the constructor signature to capture the injectables in private variables
and clear the body.</p>
<code-example language="ts" format="linenums">constructor(private el: ElementRef, private renderer: Renderer) {
}
</code-example><p>Here&#39;s the updated directive:</p>
<div class="example-title">app/highlight.directive.ts</div><code-example language="ts" format="linenums">import {Directive, ElementRef, Renderer, Input} from &#39;angular2/core&#39;;

@Directive({
  selector: &#39;[myHighlight]&#39;,
  host: {
    &#39;(mouseenter)&#39;: &#39;onMouseEnter()&#39;,
    &#39;(mouseleave)&#39;: &#39;onMouseLeave()&#39;
  }
})

export class Highlight {
  constructor(private el: ElementRef, private renderer: Renderer) {
  }

  onMouseEnter() { this._highlight(&quot;yellow&quot;); }
  onMouseLeave() { this._highlight(null); }

  private _highlight(color: string) {
    this.renderer.setElementStyle(this.el, &#39;backgroundColor&#39;, color);
  }

}
</code-example><p>We run the app and confirm that the background color appears as we move the mouse over the <code>span</code> and
disappears as we move out.</p>
<figure class="image-display"><img src="/resources/images/devguide/attribute-directives/highlight-directive-anim.gif" alt="Second Highlight"></figure><div class="l-main-section"></div><h2 id="configure-the-directive-with-binding">Configure the directive with binding</h2>
<p>Currently the highlight color is hard-coded within the directive. That&#39;s inflexible.
We should set the highlight color externally with a binding like this:</p>
<code-example language="html" format="">&lt;p&gt;&lt;span [myHighlight]=&quot;color&quot;&gt;Highlight me!&lt;/span&gt;&lt;/p&gt;
</code-example><p>We&#39;ll extend our directive class with a bindable <strong>input</strong> <code>highlightColor</code> property and use it when we highlight text.</p>
<p>Here is the final version of the class:</p>
<div class="example-title">app/highlight.directive.ts (class only)</div><code-example language="ts" format="linenums">export class Highlight {
  @Input(&#39;myHighlight&#39;) highlightColor: string;

  private _defaultColor = &#39;red&#39;;

  constructor(private el: ElementRef, private renderer: Renderer) { }

  onMouseEnter() { this._highlight(this.highlightColor || this._defaultColor); }
  onMouseLeave() { this._highlight(null); }

  private _highlight(color:string) {
    this.renderer.setElementStyle(this.el, &#39;backgroundColor&#39;, color);
  }
}
</code-example><p>The new <code>highlightColor</code> property is called an &quot;input&quot; property because data flows from the binding expression into our directive.
Notice that we call the <code>@Input()</code> decorator function while defining the property.</p>
<code-example language="ts" format="">@Input(&#39;myHighlight&#39;) highlightColor: string;
</code-example><p>This <code>@Input</code> decorator adds metadata to the class that makes the <code>highlightColor</code> property  available for property binding
under the <code>myHighlight</code> alias. 
We must add this input metadata. Angular will give us an error if we try to bind 
to a property without declaring it as an input.</p>
<div class="l-sub-section"><p>The developer who uses our directive expects to bind to the attribute name, <code>myHighlight</code>.
The directive property name is <code>highlightColor</code>. That&#39;s a disconnect.</p>
<p>We can resolve the discrepancy by renaming the property to <code>myHighlight</code> and define it as follows:</p>
<code-example language="ts" format="">@Input() myHighlight: string;
</code-example><br><p>Maybe we don&#39;t want that property name inside the directive perhaps because it 
doesn&#39;t express our intention well. 
We can <strong>alias</strong> the <code>highlightColor</code> property with the attribute name by
passing <code>myHighlight</code> into the <code>@Input</code> decorator:</p>
<code-example language="ts" format="">@Input(&#39;myHighlight&#39;) highlightColor: string;
</code-example></div><p>Now that we&#39;re getting the highlight color as an input, we modify the <code>onMouseEnter()</code> method to use
it instead of the hard-coded color name.
We also define a red default color as a fallback in case
the user neglects to bind with a color.</p>
<code-example language="ts" format="">onMouseEnter() { this._highlight(this.highlightColor || this._defaultColor); }
</code-example><p>Now we&#39;ll update our <code>AppComponent</code> template to let 
users pick the highlight color and bind their choice to our directive.</p>
<p>Here is the updated template:</p>
<code-example language="html" format="linenums">&lt;h1&gt;My First Attribute Directive&lt;/h1&gt;
&lt;h4&gt;Pick a highlight color&lt;/h4&gt;
&lt;div&gt;
  &lt;input type=&quot;radio&quot; name=&quot;colors&quot; (click)=&quot;color=&#39;lightgreen&#39;&quot;&gt;Green
  &lt;input type=&quot;radio&quot; name=&quot;colors&quot; (click)=&quot;color=&#39;yellow&#39;&quot;&gt;Yellow
  &lt;input type=&quot;radio&quot; name=&quot;colors&quot; (click)=&quot;color=&#39;cyan&#39;&quot;&gt;Cyan
&lt;/div&gt;

&lt;p&gt;&lt;span [myHighlight]=&quot;color&quot;&gt;Highlight me!&lt;/span&gt;&lt;/p&gt;
</code-example><div class="l-sub-section"><h3 id="where-is-the-templated-color-property-">Where is the templated <em>color</em> property?</h3>
<p>The eagle-eyed may notice that the radio button click handlers in the template set a <code>color</code> property
and we are binding that <code>color</code> to the directive. 
We should expect to find a <code>color</code> on the host <code>AppComponent</code>.</p>
<p><strong>We never defined a color property for the host <em>AppComponent</em></strong>!
And yet this code works. Where is the template <code>color</code> value going?</p>
<p>Browser debugging reveals that Angular dynamically added a <code>color</code> property 
to the runtime instance of the <code>AppComponent</code>.</p>
<p>This is <em>convenient</em> behavior but it is also <em>implicit</em> behavior that could be confusing. 
While it&#39;s cool that this technique works, we recommend adding the <code>color</code> property to the <code>AppComponent</code>.</p>
</div><p>Here is our second version of the directive in action.</p>
<figure class="image-display"><img src="/resources/images/devguide/attribute-directives/highlight-directive-v2-anim.gif" alt="Highlight v.2"></figure><div class="l-main-section"></div><h2 id="bind-to-a-second-property">Bind to a second property</h2>
<p>Our directive only has a single, customizable property. What if we had <strong><em>two properties</em></strong>?</p>
<p>Let&#39;s let the template developer set the default color, the color that prevails until the user picks a highlight color.
We&#39;ll add a second <strong>input</strong> property to <code>HighlightDirective</code> called <code>defaultColor</code>:</p>
<code-example language="ts" format="linenums">@Input() set defaultColor(colorName:string){
  this._defaultColor = colorName || this._defaultColor;
}
</code-example><p>The <code>defaultColor</code> property has a setter that overrides the hard-coded default color, &quot;red&quot;.
We don&#39;t need a getter.</p>
<p>How do we bind to it? We already &quot;burned&quot; the <code>myHighlight</code> attribute name as a binding target.</p>
<p>Remember that a <em>component is a directive too</em>. 
We can add as many component property bindings as we need by stringing them along in the template
as in this example that sets the <code>a</code>, <code>b</code>, <code>c</code> properties to the string literals &#39;a&#39;, &#39;b&#39;, and &#39;c&#39;. </p>
<pre><code>&lt;my-component [a]=&quot;&#39;a&#39;&quot; [b]=&quot;&#39;b&#39;&quot; [c]=&quot;&#39;c&#39;&quot;&gt;&lt;my-component&gt;
</code></pre><p>We do the same thing with an attribute directive.</p>
<code-example language="html" format="linenums">&lt;p&gt;&lt;span [myHighlight]=&quot;color&quot; [defaultColor]=&quot;&#39;violet&#39;&quot;&gt;
Highlight me too!
&lt;/span&gt;&lt;/p&gt;
</code-example><p>Here we&#39;re binding the user&#39;s color choice to the <code>myHighlight</code> attribute as we did before.
We&#39;re <em>also</em> binding the literal string, &#39;violet&#39;, to the <code>defaultColor</code>.</p>
<p>Here is the final version of the directive in action.</p>
<figure class="image-display"><img src="/resources/images/devguide/attribute-directives/highlight-directive-final-anim.gif" alt="Final Highlight"></figure><div class="l-main-section"></div><h2 id="summary">Summary</h2>
<p>Now we know how to</p>
<ul>
<li>build a simple <strong>attribute directive</strong> to attach behavior to an HTML element,</li>
<li>use that directive in a template,</li>
<li>respond to <strong>events</strong> to change behavior based on an event,</li>
<li>and use <strong>binding</strong> to pass values to the attribute directive.</li>
</ul>
<p>The final source:</p>
<code-tabs><code-pane language="ts" name="app.component.ts" format="linenums">import {Component} from &#39;angular2/core&#39;;
import {Highlight} from &#39;./highlight.directive&#39;

@Component({
  selector: &#39;my-app&#39;,
  templateUrl: &#39;app/app.component.html&#39;,
  directives: [Highlight]
})

export class AppComponent { }
</code-pane><code-pane language="html" name="app.component.html" format="linenums">&lt;h1&gt;My First Attribute Directive&lt;/h1&gt;
&lt;h4&gt;Pick a highlight color&lt;/h4&gt;
&lt;div&gt;
  &lt;input type=&quot;radio&quot; name=&quot;colors&quot; (click)=&quot;color=&#39;lightgreen&#39;&quot;&gt;Green
  &lt;input type=&quot;radio&quot; name=&quot;colors&quot; (click)=&quot;color=&#39;yellow&#39;&quot;&gt;Yellow
  &lt;input type=&quot;radio&quot; name=&quot;colors&quot; (click)=&quot;color=&#39;cyan&#39;&quot;&gt;Cyan
&lt;/div&gt;

&lt;p&gt;&lt;span [myHighlight]=&quot;color&quot;&gt;Highlight me!&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span [myHighlight]=&quot;color&quot; [defaultColor]=&quot;&#39;violet&#39;&quot;&gt;
Highlight me too!
&lt;/span&gt;&lt;/p&gt;
</code-pane><code-pane language="ts" name="highlight.directive.ts" format="linenums">import {Directive, ElementRef, Renderer, Input} from &#39;angular2/core&#39;;

@Directive({
  selector: &#39;[myHighlight]&#39;,
  host: {
    &#39;(mouseenter)&#39;: &#39;onMouseEnter()&#39;,
    &#39;(mouseleave)&#39;: &#39;onMouseLeave()&#39;
  }
})

export class Highlight {
  @Input(&#39;myHighlight&#39;) highlightColor: string;

  private _defaultColor = &#39;red&#39;;
  @Input() set defaultColor(colorName:string){
    this._defaultColor = colorName || this._defaultColor;
  }

  constructor(private el: ElementRef, private renderer: Renderer) { }

  onMouseEnter() { this._highlight(this.highlightColor || this._defaultColor); }
  onMouseLeave() { this._highlight(null); }

  private _highlight(color:string) {
    this.renderer.setElementStyle(this.el, &#39;backgroundColor&#39;, color);
  }
}
</code-pane><code-pane language="ts" name="boot.ts" format="linenums">import {bootstrap}    from &#39;angular2/platform/browser&#39;
import {AppComponent} from &#39;./app.component&#39;;

bootstrap(AppComponent);
</code-pane><code-pane language="html
  " name="index.html" format="linenums">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
  &lt;title&gt;Attribute Directives&lt;/title&gt;
    &lt;script src=&quot;node_modules/angular2/bundles/angular2-polyfills.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;node_modules/systemjs/dist/system.src.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;node_modules/rxjs/bundles/Rx.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;node_modules/angular2/bundles/angular2.dev.js&quot;&gt;&lt;/script&gt;
    &lt;script&gt;
      System.config({
        packages: {        
          app: {
            format: &#39;register&#39;,
            defaultExtension: &#39;js&#39;
          }
        }
      });
      System.import(&#39;app/boot&#39;)
            .then(null, console.error.bind(console));
    &lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;
  &lt;my-app&gt;loading...&lt;/my-app&gt;
&lt;/body&gt;

&lt;/html&gt;
</code-pane></code-tabs><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><div class="l-sub-section"><h3>Next Step</h3><a href="/docs/ts/latest/guide/structural-directives.html">Structural Directives</a></div><!--NEXT PAGE HAS NOW BEEN SET--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--></article><div class="main-footer"><nav class="background-silver grid-fluid"><div class="c3 main-footer-branding"><div class="logo-inverse-large"></div></div><div class="c2"><h3 class="text-headline">LIBRARIES</h3><ul class="text-body"><li><a href="/"> Angular 2.0</a></li><li><a href="https://angularjs.org/"> Angular 1 for JS</a></li><li><a href="https://angulardart.org/"> Angular 1 for Dart</a></li><li><a href="https://material.angularjs.org"> Angular Material</a></li><li><a href="https://www.firebase.com/docs/web/libraries/angular/"> AngularFire</a></li></ul></div><div class="c2"><h3 class="text-headline">LEARN</h3><ul class="text-body"><li><a href="/docs/ts/latest/quickstart.html"> 5 Min Quickstart</a></li><li><a href="/docs/ts/latest/guide/"> Step by Step Guide</a></li><li><a href="/docs/ts/latest/api/"> Full API</a></li><li><a href="/docs/ts/latest/resources.html"> Resources</a></li><li><a href="http://goo.gl/sj0Nk1">Design Docs &amp; Notes</a></li></ul></div><div class="c2"><h3 class="text-headline">HELP</h3><ul class="text-body"><li><a href="https://groups.google.com/forum/#!forum/angular"> Google Group</a></li><li><a href="https://gitter.im/angular/angular"> Chat Room</a></li><li><a href="https://github.com/angular/angular/issues"> Report an Issue</a></li></ul></div><div class="c3"><h3 class="text-headline">COMMUNITY</h3><ul class="text-body"><li><a href="https://blog.angularjs.org/"> Blog</a></li><li><a href="https://plus.sandbox.google.com/+AngularJS/posts"> Google+</a></li><li><a href="https://twitter.com/angularjs"> Twitter</a></li><li><a href="https://github.com/angular/angular"> GitHub</a></li></ul></div></nav><footer class="background-steel"><small class="text-caption">Powered by Google ©2010-2015. Code licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0" class="text-snow">Apache License, Version 2.0</a>. Documentation licensed under <a class="text-snow" href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.</small><a aria-label="View Style Guide" href="/docs/styleguide.html" title="Style Guide" md-button="md-button" class="styleguide-trigger text-snow"><span class="icon-favorite"></span></a></footer></div><!-- VENDORS --><script src="/resources/js/vendor/prettify.js"></script><script src="/resources/js/vendor/lang-basic.js"></script><script src="/resources/js/vendor/lang-dart.js"></script><script src="/resources/js/vendor/lodash.js"></script><!-- Angular Material Dependencies --><script src="/resources/ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script><script src="/resources/ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular-animate.min.js"></script><script src="/resources/ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular-aria.min.js"></script><script src="/resources/ajax.googleapis.com/ajax/libs/angular_material/0.8.3/angular-material.min.js"></script><!-- Angular.io Site JS --><script src="/resources/js/site.js"></script><script src="/resources/js/controllers/app-controller.js"></script><script src="/resources/js/directives/cheatsheet.js"></script><script src="/resources/js/directives/api-list.js"></script><script src="/resources/js/directives/bio.js"></script><script src="/resources/js/directives/bold.js"></script><script src="/resources/js/directives/code.js"></script><script src="/resources/js/directives/code-tabs.js"></script><script src="/resources/js/directives/code-pane.js"></script><script src="/resources/js/directives/code-example.js"></script><script src="/resources/js/directives/scroll-y-offset-element.js"></script><!-- GA --><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-8594346-15', 'auto');
ga('send', 'pageview')

</script><!-- SWIFTYPE --><script>(function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
(w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
})(window,document,'script','//s.swiftypecdn.com/install/v1/st.js','_st');

_st('install','VsuU7kH5Hnnj9tfyNvfK');
</script><!-- Google Feedback --><script src="//www.gstatic.com/feedback/api.js" type="text/javascript"></script></body></html>