<!DOCTYPE html><html lang="en" ng-app="angularIOApp" itemscope itemtype="http://schema.org/Framework"><head><title>Angular</title><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="description" content="Angular is a development platform for building mobile and desktop web applications"/><meta name="keywords" content="Angular, AngularJS, AngularDart, Javscript, Dart, Framework, JavaScript MVC, Google"/><meta name="robots" content="all"/><meta name="referrer" content="origin"/><meta name="viewport" id="viewport" content="width=device-width, initial-scale=1"/><meta property="og:title" content="Angular 2"/><meta property="og:image" content="/resources/images/logos/standard/shield-large.png"/><meta property="og:image:type" content="image/png"/><meta property="og:image:width" content="184"/><meta property="og:image:height" content="200"/><meta property="og:description" content="Angular is a development platform for building mobile and desktop web applications"/><meta itemprop="name" content="Angular 2"/><meta itemprop="description" content="Angular is a development platform for building mobile and desktop web applications"/><meta itemprop="image" content="https://angular.io/resources/images/logos/standard/shield-large.png"/><link rel="icon" type="image/x-icon" href="/resources/images/icons/favicon.ico"/><link rel="stylesheet" href="/resources/ajax.googleapis.com/ajax/libs/angular_material/0.8.3/angular-material.min.css"/><link href="/resources/fonts.googleapis.com/css?family=Roboto:400,300,500,400italic,700" rel="stylesheet" type="text/css"/><link href="/resources/fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/><link rel="stylesheet" href="/resources/css/vendor/icomoon/style.css"/><link rel="stylesheet" href="/resources/css/vendor/animate.css"/><link rel="stylesheet" href="/resources/css/main.css"/><!-- MOBILE ICONS -->
<link rel="apple-touch-icon" sizes="57x57" href="/resources/images/favicons/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/resources/images/favicons/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/resources/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/resources/images/favicons/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/resources/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/resources/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/resources/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/resources/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/resources/images/favicons/apple-touch-icon-180x180.png">
<link rel="icon" type="image/png" href="/resources/images/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/resources/images/favicons/favicon-194x194.png" sizes="194x194">
<link rel="icon" type="image/png" href="/resources/images/favicons/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/resources/images/favicons/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="/resources/images/favicons/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/resources/images/favicons/manifest.json"></head><body ng-controller="AppCtrl as appCtrl" class="l-offset-nav l-offset-side-nav"><md-toolbar scroll-y-offset-element="scroll-y-offset-element" class="main-nav background-regal l-pinned-top l-layer-5"><nav><h1><a href="/" md-button>Angular <sup>by Google</sup></a></h1><button aria-label="View Menu" ng-click="appCtrl.toggleMainMenu($event)" md-button="md-button" class="main-nav-button main-nav-mobile-trigger l-right">Site Menu <span class="icon icon-arrow-drop-down"></span></button><ul ng-class="appCtrl.showMainNav ? 'is-visible' : ''"><li class="l-left"><a class="main-nav-button" href="/features.html" md-button>Features</a></li><li class="l-left"><a class="main-nav-button" href="/docs/ts/latest/" md-button>Docs</a></li><li class="l-left"><a class="main-nav-button" href="/about/" md-button>About</a></li><li class="l-left"><a class="main-nav-button" href="/contribute.html" md-button>Contribute</a></li><li class="l-right feedback-button"><md-button ng-click="appCtrl.openFeedback()" class="md-icon-button top-nav-icon" aria-label="Submit feedback on this page"><span class="material-icons">feedback</span></md-button></li></ul></nav></md-toolbar><nav class="side-nav l-pinned-left l-layer-4 l-offset-nav"><!-- SEARCH BAR--><header class="side-nav-search st-input-wrapper"><form class="st-input-inner"><label for="search-io" class="is-hidden">Search Docs</label><input type="search" id="search-io" placeholder="SEARCH DOCS..."/></form><button aria-label="View Docs Menu" ng-click="appCtrl.toggleDocsMenu($event)" md-button="md-button" class="mobile-trigger button">Docs <span class="icon icon-arrow-drop-down"></span></button></header><!-- PRIMARY NAVIGATION--><ul ng-class="appCtrl.showDocsNav ? 'is-visible' : ''" class="side-nav-primary"><li><a href="/docs/ts/latest/index.html" md-button><span class="side-nav-icon icon-home"></span> Docs Home</a></li><!-- SECONDARY NAVIGATION--><li><a href="/docs/ts/latest/quickstart.html" md-button><span class="side-nav-icon icon-query-builder"></span> 5 Min Quickstart</a></li><!-- SECONDARY NAVIGATION--><li class="is-selected"><a href="/docs/ts/latest/tutorial/" md-button><span class="side-nav-icon icon-list"></span> Tutorial</a></li><!-- SECONDARY NAVIGATION--><!--SECONDARY NAVIGATION--><ul class="side-nav-secondary is-ordered"><!-- DEFAULT LIST VALUES--><!-- TERTIARY NAVIGATION--><!-- DEFAULT LIST VALUES--><!-- TERTIARY NAVIGATION--><!-- DEFAULT LIST VALUES--><!-- API LIST VALUES--><!-- ORDERED LIST VALUES--><li><a href="/docs/ts/latest/tutorial/toh-pt1.html" md-button>1. The Hero Editor</a></li><!-- TERTIARY NAVIGATION--><!-- DEFAULT LIST VALUES--><!-- API LIST VALUES--><!-- ORDERED LIST VALUES--><li><a href="/docs/ts/latest/tutorial/toh-pt2.html" md-button>2. Master/Detail</a></li><!-- TERTIARY NAVIGATION--></ul><li><a href="/docs/ts/latest/guide/" md-button><span class="side-nav-icon icon-list"></span> Developer Guides</a></li><!-- SECONDARY NAVIGATION--><li><a href="/docs/ts/latest/testing/" md-button><span class="side-nav-icon icon-list"></span> Testing Guides</a></li><!-- SECONDARY NAVIGATION--><li><a href="/docs/ts/latest/api/" md-button><span class="side-nav-icon icon-book"></span> API Preview</a></li><!-- SECONDARY NAVIGATION--><li><a href="/docs/ts/latest/resources.html" md-button><span class="side-nav-icon icon-play-circle-fill"></span> Angular Resources</a></li><!-- SECONDARY NAVIGATION--><li><a href="/docs/ts/latest/help.html" md-button><span class="side-nav-icon icon-chat"></span> Help &amp; Support</a></li><!-- SECONDARY NAVIGATION--></ul></nav><header class="hero background-sky"><h1 class="hero-title text-display-1 ">Angular</h1><!-- Replace _ undscores with . dots --><!-- Replace _ undscores with . dots --><!-- VERSION TREE CREATOR MIXIN --><!-- BUTTON TITLE GENERATION  --><!-- DROPDOWN BUTTON --><nav class="hero-subtitle text-subhead dropdown"><button aria-label="Select a version of Angular" md-button="md-button" ng-click="appCtrl.toggleVersionMenu($event)" class="dropdown-button">Angular 2 for TypeScript  <span class="icon icon-arrow-drop-down"></span></button><div ng-click="appCtrl.toggleVersionMenu($event)" ng-show="appCtrl.showMenu" class="overlay ng-hide"></div><!-- DROPDOWN MENU --><div ng-class="appCtrl.showMenu ? 'is-visible' : ''" class="dropdown-menu"><ul><li><a href="/docs/ts/latest/tutorial/" md-button>Angular 2 for TypeScript </a></li></ul><ul><li><a href="/docs/js/latest/tutorial/" md-button>Angular 2 for JavaScript </a></li></ul><ul><li><a href="/docs/dart/latest/tutorial/" md-button>Angular 2 for Dart </a></li></ul></div></nav></header><article class="l-content-small grid-fluid docs-content"><div class="l-main-section"><h2 id="reviewing-where-we-left-off">Reviewing Where We Left Off</h2>
<p>Before we continue with our Tour of Heroes, let’s verify we have the following structure. If not, we’ll need to go back and follow the previous chapters.</p>
<code-example>angular2-tour-of-heroes
  ├── node_modules
  ├── app
  |    ├── app.component.ts
  |    └── boot.ts
  ├── index.html
  ├── tsconfig.json
  └── package.json 
</code-example><h3 id="keep-the-app-transpiling-and-running">Keep the app transpiling and running</h3>
<p>We want to start the TypeScript compiler, have it watch for changes, and start our server. We&#39;ll do this by typing</p>
<code-example format="." language="bash">npm run go
</code-example><p>This will keep the application running while we continue to build the Tour of Heroes.</p>
<h2 id="making-a-hero-detail-component">Making a Hero Detail Component</h2>
<p>Our heroes list and our hero details are all in the same component. What if we want to reuse the hero details somewhere else in our app? This would be difficult since it is intermixed with the heroes list. Let’s make this easier and separate the hero details into its own component to make this more reusable.</p>
<h3 id="separating-the-hero-detail-component">Separating the Hero Detail Component</h3>
<p>We’ll need a new file and a new component to host our hero details. Let’s create a new file named <code>hero-detail.component.ts</code> with a component named <code>HeroDetailComponent</code>.</p>
<pre><code>@Component({
  selector: &#39;my-hero-detail&#39;
})
export class HeroDetailComponent { }
</code></pre><p>We want to use <code>HeroDetailComponent</code> from our original <code>AppComponent</code>.  We’ll need the selector name when we refer to it in <code>AppComponent</code>’s template. We export the <code>HeroDetailComponent</code> here so we can later import it into our <code>AppComponent</code>, which we’ll do after we finish creating our <code>HeroDetailComponent</code>. </p>
<p>We anticipate our template will contain multiple lines. So let’s initialize the <code>template</code> property to an empty string between back-ticks.</p>
<pre><code>@Component({
  selector: &#39;my-hero-detail&#39;,
  template: ``
})
export class HeroDetailComponent { }
</code></pre><p>Remember, we want to refer to our <code>HeroDetailComponent</code> in the <code>AppComponent</code>. This is why we export the <code>HeroDetailComponent</code> class.</p>
<h4 id="hero-detail-template">Hero Detail Template</h4>
<p>Our heroes and hero details are combined in one template in <code>AppComponent</code> so we need to separate them. Let’s move the appropriate template content from <code>AppComponent</code> and paste it in the template property of  <code>HeroDetailComponent</code>. </p>
<p>Let’s also change the name of the property in the template from <code>selectedHero</code> to <code>hero</code>, as it is more appropriate for a reusable component.</p>
<code-example language="ts" format="linenums">@Component({
    selector: &#39;my-hero-detail&#39;,
    template: `
      &lt;div *ng-if=&quot;hero&quot;&gt;
        &lt;h2&gt;{{selected.name}} details!&lt;/h2&gt;
        &lt;div&gt;&lt;label&gt;id: &lt;/label&gt;{{hero.id}}&lt;/div&gt;
        &lt;div&gt;
          &lt;label&gt;name: &lt;/label&gt;
          &lt;input [(ng-model)]=&quot;hero.name&quot; placeholder=&quot;name&quot;/&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    `,
    directives: [CORE_DIRECTIVES, FORM_DIRECTIVES]
  })
</code-example><p>Our <code>HeroDetailComponent</code> uses <code>ng-model</code> (which is in the <code>FORM_DIRECTIVES</code> array) and <code>ng-if</code> (which is in the <code>CORE_DIRECTIVES</code> array).  We have to tell our component about these directives, so we declare them in the <code>directives</code> property of the <code>@Component</code> decorator.</p>
<p>Now our hero detail template exists only in our <code>HeroDetailComponent</code>.</p>
<h4 id="importing">Importing</h4>
<p>Now that we have the foundation for the component, we need to make sure that we import everything we are using in the component. Let’s add the following import statement to the top of our <code>hero-detail.component.ts</code> file to get the exports from Angular that we are using.</p>
<pre><code>import {Component, CORE_DIRECTIVES, FORM_DIRECTIVES} from &#39;angular2/angular2&#39;;
</code></pre><h4 id="declaring-our-hero">Declaring our Hero</h4>
<p>Our <code>HeroDetailComponent</code>’s template refers to a hero, so let’s add a property on the component to hold the hero.</p>
<pre><code>export class HeroDetailComponent {
  public hero: Hero;
}
</code></pre><p>Uh oh. We declare the <code>hero</code> property as being of type <code>Hero</code> but our <code>Hero</code> class is over in the <code>app.ts</code> file. We now have two components, each in their own file, that need to reference the <code>Hero</code> class. Let’s solve this problem by removing the <code>Hero</code> class from <code>app.ts</code> and moving it to its own file named <code>hero.ts</code>.</p>
<pre><code>export class Hero {
  id: number;
  name: string;
}
</code></pre><p>We export the <code>Hero</code> class from <code>hero.ts</code> because we will need to import it in both of our component files. Let’s add the following import statement to the top of both <code>app.ts</code> and <code>hero.-detail.component.ts</code>.</p>
<pre><code>import {Hero} from &#39;./hero&#39;;
</code></pre><p>Now we can also use the <code>Hero</code> class from other files by importing it.</p>
<h4 id="defining-the-input-for-herodetailcomponent">Defining the Input for HeroDetailComponent</h4>
<p>Our <code>HeroDetailComponent</code> needs to be told what hero to use. We have a <code>hero</code> property, but we need a way for the <code>AppComponent</code> to tell the <code>HeroDetailComponent</code>  the  hero it should use. </p>
<p>Let’s declare the inputs for our component in the <code>@Component</code> decorator’s <code>inputs</code> property. We will set the input to the <code>hero</code> property so it matches the <code>hero</code> property on the <code>HeroDetailComponent</code>.</p>
<code-example language="ts" format="linenums">@Component({
    selector: &#39;my-hero-detail&#39;,
    template: `
      &lt;div *ng-if=&quot;hero&quot;&gt;
        &lt;h2&gt;{{hero.name}} details!&lt;/h2&gt;
          &lt;div&gt;&lt;label&gt;id: &lt;/label&gt;{{hero.id}}&lt;/div&gt;
            &lt;div&gt;
              &lt;label&gt;name: &lt;/label&gt;
              &lt;input [(ng-model)]=&quot;hero.name&quot; placeholder=&quot;name&quot;/&gt;
            &lt;/div&gt;
          &lt;/div&gt;
    `,
    directives: [CORE_DIRECTIVES, FORM_DIRECTIVES],
    inputs: [&#39;hero&#39;]
  })
</code-example><p>Now our <code>AppComponent</code>, or any component that refers to <code>HeroDetailComponent</code>, can tell the <code>HeroDetailComponent</code> which hero to use.</p>
<h3 id="making-appcomponent-refer-to-the-herodetailcomponent">Making AppComponent Refer to the HeroDetailComponent</h3>
<p>Our <code>HeroDetailComponent</code> is ready, but we need to go back to the <code>AppComponent</code> and clean up some loose ends.</p>
<p>First we need to tell our <code>AppComponent</code> about our new component. Let’s add an import statement so we can refer to the <code>HeroDetailComponent</code>.</p>
<pre><code>import {HeroDetailComponent} from &#39;./hero-detail.component&#39;;
</code></pre><p>Let’s find the location of the template content we removed from <code>AppComponent</code> and refer to our new component. </p>
<pre><code>&lt;my-hero-detail&gt;&lt;/my-hero-detail&gt;
</code></pre><p>This would be good enough if the component did not have any inputs. But we do, so we want to pass the selected hero to the <code>hero</code> input of the <code>HeroDetailComponent</code>, as shown below:</p>
<pre><code>&lt;my-hero-detail [hero]=&quot;selectedHero&quot;&gt;&lt;/my-hero-detail&gt;
</code></pre><p>Our <code>AppComponent</code>’s template should now look like this</p>
<code-example language="html" format="linenums">template: `
   &lt;h1&gt;{{title}}&lt;/h1&gt;

   &lt;h2&gt;My Heroes&lt;/h2&gt;
   &lt;ul class=&quot;heroes&quot;&gt;
     &lt;li *ng-for=&quot;#hero of heroes&quot;
       [ng-class]=&quot;getSelectedClass(hero)&quot;
       (click)=&quot;onSelect(hero)&quot;&gt;
       &lt;span class=&quot;badge&quot;&gt;{{hero.id}}&lt;/span&gt; {{hero.name}}&lt;/a&gt;
     &lt;/li&gt;
   &lt;/ul&gt;
   &lt;my-hero-detail [hero]=&quot;selectedHero&quot;&gt;&lt;/my-hero-detail&gt;
 `,
</code-example><h4 id="naming-convention">Naming Convention</h4>
<p>We want to identify which files are components. Our <code>AppComponent</code> is named <code>app.ts</code> while our <code>HeroDetailComponent</code> is <code>hero-detail.component.ts</code>. That’s not very consistent and we can make it easier to know what is in each file by following a naming convention where we identify which files contain a component. </p>
<p>Let’s rename <code>app.ts</code> to <code>app.component.ts</code>. </p>
<!-- TODO
.l-sub-section
  :marked
    Learn more about naming conventions in the chapter [Naming Conventions]
:marked
-->
<p>Remember that our application kicks off by entering our starting point, which is <code>app.component.ts</code>. We just renamed this file, but we also have to change every place we import this module. Our entry point is in our <code>index.html</code> file. Let’s change the following statement to import <code>app.component</code>.</p>
<pre><code>System.import(&#39;app/app.component&#39;);
</code></pre><h3 id="checking-our-work">Checking Our Work</h3>
<p>When we view our app in the browser we see the list of heroes. When we select a hero we can see the selected hero’s details. If we want to show hero details somewhere else in our app we can use the <code>HeroDetailComponent</code> and pass in a hero. </p>
<p>We’ve created our first reusable component!</p>
<!-- TODO
.l-sub-section
  :marked
    Learn more about reusable components in the chapter [Reusable Components] 
:marked -->
<h2 id="creating-a-hero-service">Creating a Hero Service</h2>
<p>Our stakeholders have shared their larger vision for our app. They tell us they want to show the heroes in various ways in different pages. We have a way to select a hero from a list, but we will also need a dashboard with the top heroes and a separate view for editing hero details. </p>
<p>All of these views need hero data. Our <code>AppComponent</code> defines and uses a list of heroes, but it is not ideal to create our AppComponent when just the heroes data elsewhere. Fortunately we can create a shared service that will provide the heroes. </p>
<h3 id="creating-the-heroservice">Creating the HeroService</h3>
<p>Were going to create a service that can be used by any component that wants hero data. Let’s start by creating a file and naming it <code>hero.service.ts</code>. We name the class <code>HeroService</code> and export it, so our components can import it.</p>
<pre><code>export class HeroService { }
</code></pre><h4 id="the-getheroes-method">The getHeroes Method</h4>
<p>We create a method named <code>getHeroes</code> in our <code>HeroService</code>. It will return an array of <code>Hero</code> objects, so let’s import the <code>Hero</code> class and define our method.</p>
<pre><code>import { Hero } from &#39;./hero&#39;;

export class HeroService {
  getHeroes() : Hero[] {
  }
}
</code></pre><h4 id="mocking-the-heroes">Mocking the Heroes</h4>
<p>Our <code>HeroService</code> shouldn’t be defining the hero data. Instead, the service should handle retrieving the data from another source. That source could be a mock data, a web service, or even local storage. We will design our <code>HeroService</code> to get the data from any of these sources and not affect the calling component. This will make it more reusable and more testable.</p>
<p>Once.</p>
<p>We have a list of heroes in <code>AppComponent</code>. We will move it to a new file named <code>mock-heroes.ts</code> and export the list.</p>
<code-example language="ts" format="linenums">export var HEROES: Hero[] = [
    {&quot;id&quot;: 11, &quot;name&quot;: &quot;Mr. Nice&quot;},
    {&quot;id&quot;: 12, &quot;name&quot;: &quot;Narco&quot;},
    {&quot;id&quot;: 13, &quot;name&quot;: &quot;Bombasto&quot;},
    {&quot;id&quot;: 14, &quot;name&quot;: &quot;Celeritas&quot;},
    {&quot;id&quot;: 15, &quot;name&quot;: &quot;Magneta&quot;},
    {&quot;id&quot;: 16, &quot;name&quot;: &quot;RubberMan&quot;},
    {&quot;id&quot;: 17, &quot;name&quot;: &quot;Dynama&quot;},
    {&quot;id&quot;: 18, &quot;name&quot;: &quot;Dr IQ&quot;},
    {&quot;id&quot;: 19, &quot;name&quot;: &quot;Magma&quot;},
    {&quot;id&quot;: 20, &quot;name&quot;: &quot;Tornado&quot;}
];
</code-example><h3 id="returning-the-mocked-heroes">Returning the Mocked Heroes</h3>
<p>Our <code>HeroService</code> needs to get the list of heroes, so let’s import the mocked heroes module. Then we’ll return the HEROES array.</p>
<pre><code>import {Hero} from &#39;./hero&#39;;
import {HEROES} from &#39;./mock-heroes&#39;;

export class HeroService {
  getHeroes() {
    return HEROES;
  }
}
</code></pre><p>TypeScript can implicitly determine that that return type is <code>Hero[]</code> since the return value is of that same type. This allows use to remove the explicit return type from the <code>getHeroes</code> method. </p>
<h3 id="injecting-the-hero-service">Injecting the Hero Service</h3>
<p>We’ve set ourselves up so we can use the <code>HeroService</code> from other components. Let’s import the <code>HeroService</code> in our <code>AppComponent</code>.</p>
<pre><code>import {HeroService} from &#39;./hero.service&#39;;
</code></pre><p>Importing the service allows us to reference it, but we need to make sure the <code>HeroService</code> dependency is instantiated when our component needs it. We inject the <code>HeroService</code> into our <code>AppComponent</code>’s constructor.</p>
<pre><code>constructor(private _heroService: HeroService) { }
</code></pre><p>We just injected our dependency into the component, thus we performed Dependency Injection.</p>
<div class="l-sub-section"><p>Learn more about Dependency Injection in chapter <a href="dependency-injection.html">Dependency Injection</a></p>
</div><p>We made our instance of the injected <code>HeroService</code> be a private property on our <code>AppComponent</code> class. As a convention we prefixed the private property with an underscore. </p>
<p>Since we are not defining the heroes in the <code>AppComponent</code> any longer, let’s refactor the <code>hero</code> property declaration to be an uninitialized array of <code>Hero</code>.</p>
<pre><code>public heroes: Hero[];
</code></pre><h3 id="the-oninit-lifecycle-hook">The OnInit Lifecycle Hook</h3>
<p>When our <code>AppComponent</code> is created we want it to get the list of heroes. We need to know when the component is initialized and activated, so we’ll use the <code>OnInit</code> lifecycle event to tell us this.</p>
<p>Let’s import Angular’s <code>OnInit</code> interface, implement it on our <code>AppComponent</code> and define its required <code>onInit</code> method. First we add the <code>OnInit</code> interface to the import statement.</p>
<pre><code>import {bootstrap, Component, CORE_DIRECTIVES, FORM_DIRECTIVES, OnInit} from &#39;angular2/angular2&#39;;
</code></pre><p>Now we implement the interface.</p>
<pre><code>class AppComponent implements OnInit {
</code></pre><p>Then we define the <code>onInit</code> method and get our heroes from our <code>HeroService</code>.</p>
<pre><code>onInit() {
  this.heroes = this._heroService.getHeroes();
}
</code></pre><!-- TODO 
.l-sub-section
  :marked 
    Learn more about lifecycle hooks in chapter [Lifecycle Hooks]
:marked
-->
<p>Why not use the constructor to get the heroes? When we test our application we want an opportunity to create the class without any state being set. This will make it easier to test and reduce external factors, such as calling a service in the constructor.  Therefore the constructor is best suited to help us inject dependencies and initialize variables. We need a place to get our heroes right after our class is constructed but before the view is rendered. The OnInit lifecycle hook gives us this opportunity. 
<!-- TODO 
.l-sub-section
  :marked
    Learn more about testing components in chapter [Testing Components]
:marked
--></p>
<h3 id="binding-the-hero-service">Binding the Hero Service</h3>
<p>When we view our app in the browser we see we have an error displayed in the developer console</p>
<code-example format="." language="html">EXCEPTION: No provider for HeroService! (AppComponent -> HeroService)
</code-example><p>We used Dependency Injection to tell our <code>AppComponent</code> that it should inject the <code>HeroService</code>. However we need to tell our app about the <code>HeroService</code> so it can provide it when needed. The way we do this is by declaring the <code>HeroService</code> as a binding when we bootstrap our app. 
Let’s pass a second argument to the <code>bootstrap</code> method to declare the <code>HeroService</code> as an application binding.</p>
<pre><code>bootstrap(AppComponent, [HeroService]);
</code></pre><p>We can add other bindings here, as needed.</p>
<p>When we view our app in the browser the error is gone and our application runs as expected showing our list of heroes.</p>
<h2 id="promises">Promises</h2>
<p>Our <code>HeroService</code> synchronously returns a list of heroes. It operates synchronously because the list of heroes is mocked. What happens when we want to switch that to get the heroes from a web service? The web service call over http would happen  asynchronously. </p>
<p>We don’t yet call http, but we aspire to in later chapters.  So how do we write our <code>HeroService</code> so that it won’t require refactoring the consumers of <code>HeroService</code> later? We make our <code>HeroService</code>’s <code>getHeroes</code> method return a promise to provide the heroes.</p>
<p>The key is that our components won’t know how the data is being retrieved. We can return mock heroes or heroes from http, and the component will call the service’s method the same way.</p>
<h3 id="returning-a-promise">Returning a Promise</h3>
<p>Let’s refactor the <code>getHeroes</code> method in <code>HeroService</code> to return the heroes in a promise. </p>
<pre><code>import { Hero } from &#39;./hero&#39;;
import { HEROES } from &#39;./mock-heroes&#39;;

export class HeroService {
  getHeroes() {
    return Promise.resolve(HEROES);
  }
}
</code></pre><p>The <code>Promise</code> is immediately resolving and passing the the hero data back in the promise.</p>
<h3 id="acting-on-a-promise">Acting on a Promise</h3>
<p>Let’s refactor the <code>getHeroes</code> method in <code>HeroService</code> to return the heroes in a promise. First, we create a new method in the <code>AppComponent</code> to get the heroes and named it <code>getHeroes</code>.</p>
<p>When we call our heroes we start by resetting  the <code>selectedHero</code> and <code>heroes</code> properties.  </p>
<pre><code>  getHeroes() {
    this.selectedHero = undefined;
    this.heroes = [];
  }
</code></pre><p>The <code>getHeroes</code> method in <code>HeroService</code> returns a promise. So we cannot simply set the return value to <code>this.heroes</code>. The method returns a promise and the <code>heroes</code> property expects an array of <code>Hero</code>. What do we do?</p>
<p>We define a <code>then</code> to handle the response from the promise when it resolves. We will set the heroes inside of the <code>then</code>.</p>
<pre><code>this._heroService.getHeroes()
  .then(heroes =&gt; this.heroes = heroes);
</code></pre><p>The <code>then</code> accepts a function, in this case a lambda that passes in the heroes and sets them to the <code>heroes</code> property on <code>AppComponent</code>. </p>
<p>We need to return a value for the heroes from the method so a caller can get the heroes when they are ready. Let’s return our component’s <code>heroes</code> property, which we first reset to an empty array. </p>
<pre><code>return this.heroes;
</code></pre><p>When we put this all together we see we are setting our heroes to an empty array. Then we call the service and get a promise. Finally we return the reference to our <code>heroes</code> property, which has the empty array. </p>
<pre><code>getHeroes() {
  this.selectedHero = undefined;
  this.heroes = [];

  this._heroService.getHeroes()
    .then(heroes =&gt; this.heroes = heroes);

  return this.heroes;
}
</code></pre><p>So how do the heroes get populated?  When the promise resolves, the <code>heroes</code> are updated to include the response from the promise.</p>
<p>Finally we call the method we just created in our <code>onInit</code> method. </p>
<pre><code>onInit() {
  this.heroes = this.getHeroes();
}
</code></pre><p>When we view our app in the browser we can see the heroes are displayed.</p>
<p>We are using mock data right now, but we aspire to call a web service over http asynchronously in the future. When we do refactor to use http, the beauty of the promise we created here is that our component won’t have to change at all!</p>
<h3 id="reviewing-the-app-structure">Reviewing the App Structure</h3>
<p>Let’s verify that we have the following structure after all of our good refactoring in this chapter:</p>
<code-example>angular2-tour-of-heroes
  |---- node_modules
  |---- app
  |    |---- app.component.ts
  |    |---- boot.ts
  |    |---- hero.ts
  |    |---- hero-detail.component.ts
  |    |---- hero.service.ts
  |    |---- mock-heroes.ts
  |---- index.html
  |---- tsconfig.json
  |---- package.json
</code-example><h2 id="recap">Recap</h2>
<h3 id="the-road-we-ve-travelled">The Road We’ve Travelled</h3>
<p>Let’s take stock in what we’ve built.  </p>
<ul>
<li>We created a reusable component </li>
<li>We learned how to make a component accept input</li>
<li>We created a service class that can be shared by many components</li>
<li>We created mock hero data and imported them into our service </li>
<li>We designed our service to return a promise and our component to get our data from the promise</li>
</ul>
<h3 id="the-road-ahead">The Road Ahead</h3>
<p>. . . We’ll learn more about all of these in the next chapter.</p>
<p>Our Tour of Heroes has become more reusable using shared components and services. We want to create a dashboard, add menu links that route between the views, and format data in a template. As our app evolves, we’ll learn how to design it to make it easier to grow and maintain. We’ll learn more about these tasks in the coming chapters.</p>
</div></article><div class="main-footer"><nav class="background-silver grid-fluid"><div class="c3 main-footer-branding"><div class="logo-inverse-large"></div></div><div class="c2"><h3 class="text-headline">LIBRARIES</h3><ul class="text-body"><li><a href="/"> Angular 2.0</a></li><li><a href="https://angularjs.org/"> Angular 1 for JS</a></li><li><a href="https://angulardart.org/"> Angular 1 for Dart</a></li><li><a href="https://material.angularjs.org"> Angular Material</a></li><li><a href="https://www.firebase.com/docs/web/libraries/angular/"> AngularFire</a></li></ul></div><div class="c2"><h3 class="text-headline">LEARN</h3><ul class="text-body"><li><a href="/docs/ts/latest/quickstart.html"> 5 Min Quickstart</a></li><li><a href="/docs/ts/latest/guide/"> Step by Step Guide</a></li><li><a href="/docs/ts/latest/api/"> Full API</a></li><li><a href="/docs/ts/latest/resources.html"> Resources</a></li><li><a href="http://goo.gl/sj0Nk1">Design Docs &amp; Notes</a></li></ul></div><div class="c2"><h3 class="text-headline">HELP</h3><ul class="text-body"><li><a href="https://groups.google.com/forum/#!forum/angular"> Google Group</a></li><li><a href="https://gitter.im/angular/angular"> Chat Room</a></li><li><a href="https://github.com/angular/angular/issues"> Report an Issue</a></li></ul></div><div class="c3"><h3 class="text-headline">COMMUNITY</h3><ul class="text-body"><li><a href="https://blog.angularjs.org/"> Blog</a></li><li><a href="https://plus.sandbox.google.com/+AngularJS/posts"> Google+</a></li><li><a href="https://twitter.com/angularjs"> Twitter</a></li><li><a href="https://github.com/angular/angular"> GitHub</a></li></ul></div></nav><footer class="background-steel"><small class="text-caption">Powered by Google ©2010-2015. Code licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0" class="text-snow">Apache License, Version 2.0</a>. Documentation licensed under <a class="text-snow" href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.</small><a aria-label="View Style Guide" href="/docs/styleguide.html" title="Style Guide" md-button="md-button" class="styleguide-trigger text-snow"><span class="icon-favorite"></span></a></footer></div><!-- VENDORS --><script src="/resources/js/vendor/prettify.js"></script><script src="/resources/js/vendor/lang-basic.js"></script><script src="/resources/js/vendor/lang-dart.js"></script><script src="/resources/js/vendor/lodash.js"></script><!-- Angular Material Dependencies --><script src="/resources/ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script><script src="/resources/ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular-animate.min.js"></script><script src="/resources/ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular-aria.min.js"></script><script src="/resources/ajax.googleapis.com/ajax/libs/angular_material/0.8.3/angular-material.min.js"></script><!-- Angular.io Site JS --><script src="/resources/js/site.js"></script><script src="/resources/js/controllers/app-controller.js"></script><script src="/resources/js/directives/cheatsheet.js"></script><script src="/resources/js/directives/api-list.js"></script><script src="/resources/js/directives/bio.js"></script><script src="/resources/js/directives/bold.js"></script><script src="/resources/js/directives/code.js"></script><script src="/resources/js/directives/code-tabs.js"></script><script src="/resources/js/directives/code-pane.js"></script><script src="/resources/js/directives/code-example.js"></script><script src="/resources/js/directives/scroll-y-offset-element.js"></script><!-- GA --><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-8594346-15', 'auto');
ga('send', 'pageview')

</script><!-- SWIFTYPE --><script>(function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
(w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
})(window,document,'script','//s.swiftypecdn.com/install/v1/st.js','_st');

_st('install','VsuU7kH5Hnnj9tfyNvfK');
</script><!-- Google Feedback --><script src="//www.gstatic.com/feedback/api.js" type="text/javascript"></script></body></html>